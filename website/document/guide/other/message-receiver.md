# API設定

外部からAIキャラクターへの指示を受け付けるための設定です。この機能を有効にすると、専用のAPIを通じてAIキャラクターに発言させることができます。

## 機能の有効化

メッセージレシーバー機能のON/OFFを切り替えることができます。ONにすると、クライアントIDが自動的に生成されます。

:::tip ヒント
生成されたクライアントIDは、外部からのメッセージ送信時に必要となります。
:::

**環境変数**:

```bash
# メッセージレシーバー機能の有効化設定（true/false）
NEXT_PUBLIC_MESSAGE_RECEIVER_ENABLED=false

# クライアントID（自動生成される値）
NEXT_PUBLIC_CLIENT_ID=
```

## メッセージ送信ページ

メッセージレシーバー機能が有効化されると、「メッセージ送信ページを開く」リンクが表示されます。このページから、AIキャラクターへの発言を外部から指示することができます。

メッセージ送信ページでは以下の3つの方法でメッセージを送信できます：

1. **AIキャラクターにそのまま発言させる**

   - 入力したメッセージをそのままAIキャラクターに発言させます

2. **AIで回答を生成してから発言させる**

   - 入力したメッセージからAIが回答を生成し、その回答をAIキャラクターに発言させます
   - AITuberKitのシステムプロンプトを使用するか、カスタムのプロンプトを使用するかを選択できます

3. **ユーザー入力を送信する**
   - 入力フォームから直接入力した場合と同様の処理が行われます
